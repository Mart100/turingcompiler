2 0 1 0 1 1 0 0 1 3 0 0 0 0 0 0 0 0 4

START 2 2 R TO_MIDDLE

# Find the middle
TO_MIDDLE 0 0 R TO_MIDDLE
TO_MIDDLE 1 1 R TO_MIDDLE
TO_MIDDLE 4 4 R TO_MIDDLE
TO_MIDDLE 3 3 R TO_END_RIGHT

# Set all the values to 7 untill the end
TO_END_RIGHT 0 7 R TO_END_RIGHT
TO_END_RIGHT 1 7 R TO_END_RIGHT
TO_END_RIGHT 4 4 L TO_MIDDLE_LEFT

# Find the middle
TO_MIDDLE_LEFT 7 7 L TO_MIDDLE_LEFT
TO_MIDDLE_LEFT 1 1 L TO_MIDDLE_LEFT
TO_MIDDLE_LEFT 0 0 L TO_MIDDLE_LEFT
TO_MIDDLE_LEFT 3 3 L MOVE_VALUE

# MOVE the first non-7 value
MOVE_VALUE 0 7 R MOVE_ZERO
MOVE_VALUE 1 7 R MOVE_ONE
MOVE_VALUE 7 7 L MOVE_VALUE
MOVE_VALUE 2 2 S END

## MOVE IF VALUE IS 0
# Move a 0 to the middle
MOVE_ZERO 0 0 R MOVE_ZERO
MOVE_ZERO 1 1 R MOVE_ZERO
MOVE_ZERO 7 7 R MOVE_ZERO
MOVE_ZERO 3 3 R MOVE_ZERO_2

# Move a 0 to the end
MOVE_ZERO_2 7 7 R MOVE_ZERO_2
MOVE_ZERO_2 0 0 R MOVE_ZERO_2
MOVE_ZERO_2 1 1 R MOVE_ZERO_2
MOVE_ZERO_2 4 4 L MOVE_ZERO_3

# Move a 0 to the left until the first 7, and replace it
MOVE_ZERO_3 0 0 L MOVE_ZERO_3
MOVE_ZERO_3 1 1 L MOVE_ZERO_3
MOVE_ZERO_3 7 0 S TO_MIDDLE_LEFT

## MOVE IF VALUE IS 1
# Move a 1 to the start of the first number
MOVE_ONE 0 0 R MOVE_ONE
MOVE_ONE 1 1 R MOVE_ONE
MOVE_ONE 7 7 R MOVE_ONE
MOVE_ONE 3 3 R MOVE_ONE_2

# Move a 1 to the end of the second number
MOVE_ONE_2 7 7 R MOVE_ONE_2
MOVE_ONE_2 0 0 R MOVE_ONE_2
MOVE_ONE_2 1 1 R MOVE_ONE_2
MOVE_ONE_2 4 4 L MOVE_ONE_3

# Move a 1 to the left until the first 7, and replace it
MOVE_ONE_3 0 0 L MOVE_ONE_3
MOVE_ONE_3 1 1 L MOVE_ONE_3
MOVE_ONE_3 7 1 S TO_MIDDLE_LEFT
